---
description: ID サービス利用の特長、機能、課題に関するよくある質問
keywords: ID サービス
seo-description: ID サービス利用の特長、機能、課題に関するよくある質問
seo-title: ID サービス FAQ
title: ID サービス FAQ
uuid: e8d8f819-3d73-4fa2-864c-4867071c14ee
translation-type: ht
source-git-commit: e6d65f1bfed187d7440512e8f3c2de0550506c95

---


# ID サービス FAQ{#id-service-faqs}

ID サービス利用の特長、機能、課題に関するよくある質問

## 機能{#section-659e89f8b9a74cb8afff35587dc96836}

**ID サービスにはどのような機能がありますか。**

詳しくは、[概要](../introduction/overview.md)を参照してください。

**ID サービスが Experience Cloud ID を取得するための呼び出しをおこないません。なぜですか。**

これは診断が難しい問題です。まず、サイトのコンテンツセキュリティポリシーのヘッダーを確認してください。厳格なセキュリティポリシーが適用されている場合は、設定により、ID サービスによるサードパーティ呼び出しがブロックされている可能性があります。詳しくは、[コンテンツセキュリティポリシーおよび Experience Cloud Identity Service](../reference/csp.md#concept-968c423a7392479db0a0d821ae9783e3) を参照してください。

**VisitorAPI.js ファイルの保存**

VisitorAPI.js をモバイルアプリのローカルファイルとしてホストすると、問題が生じる場合があります。このファイルは、Web サーバーでホストすることをお勧めします。

## ページ読み込み時間と待ち時間 {#section-c78e148d8dbe4c77a436ef0f2af5434b}

**ID サービスの VisitorAPI.js ライブラリの場所は、ページ読み込み時間にどのように影響しますか。**

VisitorAPI.js ライブラリはページ上部にあるコードの `<head>` セクションに配置してください。これにより、ページ本文の読み込み前に ID の呼び出しがおこなわれるので、ID が問題なく返される可能性が高くなります。

ID サービスの呼び出しは非同期的であり、[demdex.net ドメイン](https://marketing.adobe.com/resources/help/ja_JP/aam/demdex-calls.html)への唯一の呼び出しです。ID サービス呼び出しにより、ページ上で他の要素が読み込まれないようにブロックされることはありません。

[!DNL Target] を使用している場合、ページの `<body>` に ID サービスコードを配置すると、[!DNL Target] 呼び出しがブロックされる可能性が高くなります。ページ本文に ID サービスコードを配置しなければならない場合は、`<body>` 開始タグの後にこのコードを配置してください。

**ID サービスは、ページが読み込まれるたびにサーバー呼び出しをおこないますか。**

いいえ、この呼び出しはそのページが初めてレンダリングされるときにのみ発生し、その後 7 日おきにおこなわれます。その間、サーバー呼び出しは必要ありません。ID サービスはクライアント側モードで稼働するので、ID を返すためにサーバー呼び出しをおこなう必要はありません。

[概要](../introduction/overview.md)を参照してください。

**ID サービスを利用する際、ページ読み込みが遅くなったりユーザーエクスペリエンスに影響したりする原因は何ですか。**

考えうるすべての条件を並べるのは難しいことです。何十億人もの消費者クライアントがアドビのサービスに接続しており、その接続の場所や方法がパフォーマンスに与える影響も多岐にわたります。以下に例を示します。

* 速度はモバイルネットワークによって大きく異なります。ネットワークは信号、データ、音声パケットの損失からも影響を受けます。
* Wi-Fi 経由で接続しているデバイスの接続性は様々な条件により影響を受けます。例えば、パケット損失や速度の問題は、喫茶店などの公共の場所や、パケットが地上波ネットワークに到達する前に衛星を経由しなければならない飛行機などの環境においてよく発生します。
* ローカルネットワークの設定が最適でない場合も接続性や速度に悪影響が及ぶ可能性があります。
* メモリ不足、過度なディスクスワップ、現在の負荷に対する CPU 処理能力の限界など、クライアントデバイス自体の問題も考えられます。
* ブラウザーのメーカーやバージョンによっては、リモートサーバー呼び出しをキューに追加して実行し、異なるルールでレスポンスの処理をおこなうブラウザーも存在します。この動作が速度やパフォーマンスに影響します。

**ページ読み込み時間を短縮するために改善された点を教えてください。**

一例を挙げると、スレッド生成機能があります。複数の ID 同期リクエストが発生した場合に備えてスレッド生成が導入されました。複数の ID 同期を実施するお客様の場合、CPU が継続的に大量の計算をおこなうため、UI がブロックされる場合があることが、研究実験の結果からわかっています。そのため、ID 同期リクエストを 100 ミリ秒ごとに分けるスレッド生成機能を導入しました。

この変更により、Visitor 2.3.0 以降および DIL 6.10 以降を使用する場合のパフォーマンスが向上します。ページ読み込み時間の向上を以下の図に示します。

![](assets/id_sync_improvements_copy.png)

**ブラウザーリクエストに CORS を使用する場合と JSONP を使用する場合では、どちらの方がページパフォーマンスが高くなりますか。**

一般的に、リソースリクエストには、JSON-P よりも CORS を使用する方が望ましいと言えます。JSON-P の場合、一部のブラウザーはリクエストをキューに追加し、ページ上の他の同期呼び出しや非同期呼び出しリクエストを基準にして優先順位を下げます。CORS を使用すると、ブラウザーのコールスタック内でのこれらのリクエストの優先度の高さを確保できます。

詳しくは、[Experience Cloud Identity Service での CORS のサポート](../reference/cors.md#concept-6c280446990d46d88ba9da15d2dcc758)を参照してください。

## セキュリティ {#section-b176b8492fbe4acfb79ebb30ec902f98}

**ID サービスは CORS をサポートしていますか。**

はい。[Experience Cloud Identity Service での CORS のサポート](../reference/cors.md#concept-6c280446990d46d88ba9da15d2dcc758)を参照してください。

**CORS とは何ですか。**

*`Cross-Origin Resource Sharing`*（CORS）とは、ブラウザーがリソースをリクエストする際に使用するメソッドです。ブラウザーが CORS をサポートしている場合、ID サービスは常に CORS を使用してリソースをリクエストします。CORS をサポートしていない古いブラウザー上では JSONP を使用してリソースをリクエストします。[Experience Cloud](../reference/cors.md#concept-6c280446990d46d88ba9da15d2dcc758) に関する説明を参照してください。

**厳格なセキュリティ要件があり、JSONP を使用できない場合はどうすればよいですか。**

厳格なセキュリティ要件がある場合は、ID サービスの API 設定で `useCORSOnly: true` を設定してください。訪問者が CORS をサポートするブラウザーを使用しているという確信がある場合にのみ、このモードを有効にする必要があります。

詳しくは、[Experience Cloud](../reference/cors.md#concept-6c280446990d46d88ba9da15d2dcc758) および [useCORSOnly](../library/function-vars/use-cors-only.md#reference-8a9a143d838b48d6b23329b84b13e1fa) を参照してください。

>[!MORE_LIKE_THIS]
>
>* [カスタマーケア](https://helpx.adobe.com/jp/marketing-cloud/contact-support.html)

